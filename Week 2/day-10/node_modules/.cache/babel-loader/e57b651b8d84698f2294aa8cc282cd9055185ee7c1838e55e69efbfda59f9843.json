{"ast":null,"code":"var _jsxFileName = \"/Users/elsie/Documents/GitHub/Homework/Week 2/day-10/src/App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\nimport { collection, addDoc, deleteDoc, updateDoc, doc, onSnapshot, getDocs } from 'firebase/firestore';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport RecipeForm from './components/RecipeForm';\nimport RecipeList from './components/RecipeList';\nimport { db } from './firebase';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LoginPage from './components/Authentication/LoginPage';\nimport RegisterPage from './components/Authentication/RegisterPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  useEffect(() => {\n    // Check if recipes data exists in local storage\n    const storedRecipes = localStorage.getItem('recipes');\n    if (storedRecipes) {\n      setRecipes(JSON.parse(storedRecipes));\n    } else {\n      fetchRecipes();\n    }\n  }, []);\n  const fetchRecipes = async () => {\n    try {\n      const querySnapshot = await getDocs(collection(db, 'recipes'));\n      const recipesData = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setRecipes(recipesData);\n      // Store recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(recipesData));\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n    }\n  };\n  const addRecipe = async recipe => {\n    try {\n      const docRef = await addDoc(collection(db, 'recipes'), recipe);\n      recipe.id = docRef.id;\n      const updatedRecipes = [...recipes, recipe];\n      setRecipes(updatedRecipes);\n      // Update recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(updatedRecipes));\n    } catch (error) {\n      console.error('Error adding recipe:', error);\n    }\n  };\n  const deleteRecipe = async recipeId => {\n    try {\n      await deleteDoc(doc(db, 'recipes', recipeId));\n      const updatedRecipes = recipes.filter(recipe => recipe.id !== recipeId);\n      setRecipes(updatedRecipes);\n      // Update recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(updatedRecipes));\n    } catch (error) {\n      console.error('Error deleting recipe:', error);\n    }\n  };\n  const updateRecipe = async recipe => {\n    try {\n      await updateDoc(doc(db, 'recipes', recipe.id), recipe);\n      const updatedRecipes = recipes.map(r => r.id === recipe.id ? {\n        ...r,\n        ...recipe\n      } : r);\n      setRecipes(updatedRecipes);\n      // Update recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(updatedRecipes));\n    } catch (error) {\n      console.error('Error updating recipe:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/recipes\",\n            element: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Recipe Book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RecipeForm, {\n                onSubmit: addRecipe\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RecipeList, {\n                recipes: recipes,\n                onDelete: deleteRecipe,\n                onEdit: updateRecipe\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xBkrk5r3hhKgEpMO+HGI7yKr/O8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","collection","addDoc","deleteDoc","updateDoc","doc","onSnapshot","getDocs","RecipeForm","RecipeList","db","BrowserRouter","Router","Routes","Route","Navigate","LoginPage","RegisterPage","jsxDEV","_jsxDEV","App","_s","recipes","setRecipes","storedRecipes","localStorage","getItem","JSON","parse","fetchRecipes","querySnapshot","recipesData","docs","map","id","data","setItem","stringify","error","console","addRecipe","recipe","docRef","updatedRecipes","deleteRecipe","recipeId","filter","updateRecipe","r","children","className","path","element","fileName","_jsxFileName","lineNumber","columnNumber","to","onSubmit","onDelete","onEdit","_c","$RefreshReg$"],"sources":["/Users/elsie/Documents/GitHub/Homework/Week 2/day-10/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport { collection, addDoc, deleteDoc, updateDoc, doc, onSnapshot, getDocs } from 'firebase/firestore';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport RecipeForm from './components/RecipeForm';\nimport RecipeList from './components/RecipeList';\nimport { db } from './firebase';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LoginPage from './components/Authentication/LoginPage';\nimport RegisterPage from './components/Authentication/RegisterPage';\n\nfunction App() {\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    // Check if recipes data exists in local storage\n    const storedRecipes = localStorage.getItem('recipes');\n    if (storedRecipes) {\n      setRecipes(JSON.parse(storedRecipes));\n    } else {\n      fetchRecipes();\n    }\n  }, []);\n\n  const fetchRecipes = async () => {\n    try {\n      const querySnapshot = await getDocs(collection(db, 'recipes'));\n      const recipesData = querySnapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setRecipes(recipesData);\n      // Store recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(recipesData));\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n    }\n  };\n\n  const addRecipe = async (recipe) => {\n    try {\n      const docRef = await addDoc(collection(db, 'recipes'), recipe);\n      recipe.id = docRef.id;\n      const updatedRecipes = [...recipes, recipe];\n      setRecipes(updatedRecipes);\n      // Update recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(updatedRecipes));\n    } catch (error) {\n      console.error('Error adding recipe:', error);\n    }\n  };\n\n  const deleteRecipe = async (recipeId) => {\n    try {\n      await deleteDoc(doc(db, 'recipes', recipeId));\n      const updatedRecipes = recipes.filter((recipe) => recipe.id !== recipeId);\n      setRecipes(updatedRecipes);\n      // Update recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(updatedRecipes));\n    } catch (error) {\n      console.error('Error deleting recipe:', error);\n    }\n  };\n\n  const updateRecipe = async (recipe) => {\n    try {\n      await updateDoc(doc(db, 'recipes', recipe.id), recipe);\n      const updatedRecipes = recipes.map((r) => (r.id === recipe.id ? { ...r, ...recipe } : r));\n      setRecipes(updatedRecipes);\n      // Update recipes data in local storage\n      localStorage.setItem('recipes', JSON.stringify(updatedRecipes));\n    } catch (error) {\n      console.error('Error updating recipe:', error);\n    }\n  };\n\n  return (\n    <Router>\n      <div className=\"container my-5\">\n        <div className=\"card p-4\">\n          <Routes>\n            <Route path=\"/login\" element={<LoginPage />} />\n            <Route path=\"/register\" element={<RegisterPage />} />\n            <Route path=\"/\" element={<Navigate to=\"/login\" />} />\n            <Route\n              path=\"/recipes\"\n              element={\n                <div>\n                  <h1>Recipe Book</h1>\n                  <RecipeForm onSubmit={addRecipe} />\n                  <RecipeList\n                    recipes={recipes}\n                    onDelete={deleteRecipe}\n                    onEdit={updateRecipe}\n                  />\n                </div>\n              }\n            />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}